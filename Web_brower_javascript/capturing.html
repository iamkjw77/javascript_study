<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta http-equiv="X-UA-Compatible" content="ie=edge">
  <title>Document</title>
</head>
<style>
      html{border:5px solid red;padding:30px;}
      body{border:5px solid green;padding:30px;}
      fieldset{border:5px solid blue;padding:30px;}
      input{border:5px solid black;padding:30px;}
</style>
<body>
  <fieldset>
      <legend>event propagation</legend>
      <input type="button" id="target" value="target">
  </fieldset>
  <script>
    function handler(event){
      var phases = ['capturing', 'target', 'bubbling'] //배열선언
      console.log(event.target.nodeName, this.nodeName, phases[event.eventPhase-1]);
    }
    document.getElementById('target').addEventListener('click',handler, true); //인자 3번째는 use capturing으로 true면 capturing false면 bubbling
    document.querySelector('fieldset').addEventListener('click',handler, true);
    document.querySelector('body').addEventListener('click',handler, true);
    document.querySelector('html').addEventListener('click',handler, true);
    //event.target.nodeName은 모두 INPUT으로 출력
    //this.nodeName은 HTML BODY FIELDSET INPUT 순으로 출력(캡쳐링)
    //phases[event.eventPhase-1]는 capturing,capturing,capturing,target 순으로 출력
  </script>
</body>
</html>
